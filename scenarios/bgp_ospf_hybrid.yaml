name: "BGP/OSPF Hybrid Network"
description: "Router with both BGP and OSPF protocols for enterprise network"

interfaces:
  - name: "eth0"
    ip_address: "10.0.1.1"
    subnet_mask: "255.255.255.0"
    is_up: true
    mtu: 1500
  
  - name: "eth1"
    ip_address: "10.0.2.1"
    subnet_mask: "255.255.255.0"
    is_up: true
    mtu: 1500
  
  - name: "eth2"
    ip_address: "203.0.113.1"
    subnet_mask: "255.255.255.252"
    is_up: true
    mtu: 1500

routes:
  - network: "10.0.1.0/24"
    next_hop: "0.0.0.0"
    interface: "eth0"
    metric: 1
    protocol: "connected"
    is_active: true
  
  - network: "10.0.2.0/24"
    next_hop: "0.0.0.0"
    interface: "eth1"
    metric: 1
    protocol: "connected"
    is_active: true
  
  - network: "203.0.113.0/30"
    next_hop: "0.0.0.0"
    interface: "eth2"
    metric: 1
    protocol: "connected"
    is_active: true

bgp:
  as_number: "65001"
  router_id: "10.0.1.1"
  neighbors:
    - ip: "203.0.113.2"
      as: "65002"

ospf:
  router_id: "10.0.1.1"
  area: "0.0.0.0"
  interfaces:
    - "eth0"
    - "eth1"

traffic_shaping:
  token_bucket:
    capacity: 10000000
    rate: 1000000
  wfq_classes:
    - class_id: 1
      weight: 5
    - class_id: 2
      weight: 10
    - class_id: 3
      weight: 15

netem:
  - interface: "eth2"
    delay_ms: 10.0
    jitter_ms: 2.0
    loss_percent: 0.1
    rate_bps: 1000000000

test_commands:
  - "show interfaces"
  - "show routes"
  - "start bgp 65001 10.0.1.1"
  - "start ospf 10.0.1.1 0.0.0.0"
  - "configure netem eth2 10.0 0.1"
